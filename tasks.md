# 📋 PayLens Development Tasks

## 🎯 Project Overview
PayLens - 한국과 미국의 소득 퍼센타일 분석 서비스
- **목표**: 정확한 공식 데이터 기반 소득 위치 분석
- **범위**: 한국 (국세청) + 미국 (Census Bureau)
- **MVP**: 연봉 입력 → 퍼센타일 확인 → 시각화

---

## 📝 Task List

### Phase 1: 프로젝트 초기 설정 [✅]

#### 1.1 Next.js 프로젝트 생성 [✅]
- [✅] Next.js 15.5.3 with TypeScript 설치
- [✅] Tailwind CSS 설정
- [✅] ESLint/Prettier 설정
- [✅] 필수 패키지 설치 (zustand, framer-motion)

#### 1.2 프로젝트 구조 설정 [✅]
- [✅] 폴더 구조 생성
  ```
  src/
  ├── app/
  ├── components/
  ├── lib/
  ├── store/
  ├── types/
  └── data/
  ```
- [✅] 환경 변수 설정 (.env.local)
- [✅] TypeScript 경로 별칭 설정

#### 1.3 Git 초기화 [✅]
- [✅] .gitignore 설정
- [✅] 초기 커밋

**테스트**:
- [✅] `npm run dev` 실행 확인
- [✅] 브라우저에서 localhost:3000 접속 확인

---

### Phase 2: 데이터 준비 [✅]

#### 2.1 한국 데이터 수집 [✅]
- [✅] 국세청 근로소득 백분위 데이터 다운로드
- [✅] CSV → JSON 변환
- [✅] /data/korea-income-percentile.json 저장
- [✅] 데이터 타입 정의 (TypeScript)

#### 2.2 미국 데이터 수집 [✅]
- [✅] US Census Bureau 2024 데이터 다운로드
- [✅] 퍼센타일 데이터 정리
- [✅] /data/us-income-percentile.json 저장
- [✅] 데이터 타입 정의 (TypeScript)

#### 2.3 데이터 검증 [✅]
- [✅] 한국 데이터 무결성 확인
- [✅] 미국 데이터 무결성 확인
- [✅] 테스트 케이스 작성

**테스트**:
- [✅] 샘플 연봉으로 퍼센타일 계산 테스트
- [✅] 엣지 케이스 (최소/최대값) 테스트

---

### Phase 3: 핵심 기능 구현 [✅]

#### 3.1 퍼센타일 계산 엔진 [✅]
- [✅] /lib/calculations/percentile.ts 구현
  - [✅] 한국 퍼센타일 계산 함수
  - [✅] 미국 퍼센타일 계산 함수
  - [✅] 보간법(interpolation) 로직
- [✅] 단위 테스트 작성

#### 3.2 환율 변환 유틸리티 [✅]
- [✅] /lib/utils/currency.ts 구현
- [✅] 실시간 환율 API 연동 (또는 고정 환율)
- [✅] KRW ↔ USD 변환 함수

#### 3.3 데이터 포맷팅 [✅]
- [✅] 숫자 포맷팅 (천단위 구분)
- [✅] 퍼센트 표시 함수
- [✅] 다국어 숫자 표기법

**테스트**:
- [✅] 계산 정확도 검증
- [✅] 성능 테스트 (1000회 계산)

---

### Phase 4: UI 컴포넌트 개발 [✅]

#### 4.1 레이아웃 컴포넌트 [✅]
- [✅] Header 컴포넌트
- [✅] Footer 컴포넌트
- [✅] Container 컴포넌트
- [✅] 반응형 디자인 적용

#### 4.2 입력 폼 컴포넌트 [✅]
- [✅] SalaryInput 컴포넌트
  - [✅] 숫자 입력 필드
  - [✅] 통화 선택 (KRW/USD)
  - [✅] 실시간 유효성 검사
- [✅] CountrySelector 컴포넌트
- [✅] 폼 상태 관리 (Zustand)

#### 4.3 결과 표시 컴포넌트 [✅]
- [✅] PercentileDisplay 컴포넌트
  - [✅] 큰 숫자 애니메이션
  - [✅] 상위 X% 표시
- [✅] PercentileGauge & PercentileBar 컴포넌트
  - [✅] 커스텀 SVG 차트 (Chart.js 대체)
  - [✅] 내 위치 하이라이트
- [✅] ComparisonCard 컴포넌트

#### 4.4 애니메이션 [✅]
- [✅] Framer Motion 전환 효과
- [✅] 로딩 스피너
- [✅] 결과 나타남 효과

**테스트**:
- [✅] 컴포넌트 렌더링 테스트
- [✅] 사용자 인터랙션 테스트
- [✅] 반응형 디자인 테스트

---

### Phase 5: 페이지 구현 [✅]

#### 5.1 홈페이지 [✅]
- [✅] app/page.tsx 구현 (리다이렉트)
- [✅] 히어로 섹션
- [✅] 간단 설명
- [✅] CTA 버튼

#### 5.2 분석 페이지 [✅]
- [✅] app/analyze/page.tsx 구현
- [✅] 입력 → 계산 → 결과 플로우
- [✅] 상태 관리
- [✅] 에러 처리

#### 5.3 API 라우트 [✅]
- [✅] app/api/calculate/route.ts
- [✅] 서버사이드 계산 로직
- [✅] 응답 캐싱

**테스트**:
- [✅] 페이지 네비게이션 테스트
- [✅] API 응답 테스트
- [✅] 에러 상황 테스트

---

### Phase 6: 최적화 및 배포 준비 [✅]

#### 6.1 성능 최적화 [✅]
- [✅] 이미지 최적화
- [✅] 코드 스플리팅
- [✅] 데이터 lazy loading
- [✅] Lighthouse 점수 확인

#### 6.2 SEO 및 메타데이터 [✅]
- [✅] 메타 태그 설정
- [✅] Open Graph 태그
- [✅] 구조화된 데이터
- [✅] sitemap.xml

#### 6.3 분석 도구 [⏸️]
- [⏸️] Google Analytics 설정
- [⏸️] 에러 트래킹
- [⏸️] 사용자 행동 분석

#### 6.4 배포 [✅]
- [✅] Vercel 배포 설정
- [✅] 환경 변수 설정
- [✅] 도메인 연결
- [✅] SSL 인증서

**테스트**:
- [✅] 프로덕션 빌드 테스트
- [✅] 배포 환경 테스트
- [✅] 크로스 브라우저 테스트

---

### Phase 7: 추가 기능 (Post-MVP) [⏸️]

#### 7.1 상세 분석 [⏸️]
- [⏸️] 연령대별 비교
- [⏸️] 직업군별 비교
- [⏸️] 지역별 비교

#### 7.2 목표 설정 [✅]
- [✅] 목표 퍼센타일 입력
- [✅] 필요 연봉 계산
- [⏸️] 달성 로드맵

#### 7.3 공유 기능 [⏸️]
- [⏸️] 결과 이미지 생성
- [⏸️] SNS 공유 버튼
- [⏸️] 링크 공유

---

## 📊 진행 상황

```
전체 진행률: [██████████] 95%

Phase 1: [✅] 3/3 완료
Phase 2: [✅] 3/3 완료
Phase 3: [✅] 3/3 완료
Phase 4: [✅] 4/4 완료
Phase 5: [✅] 3/3 완료
Phase 6: [✅] 3/4 완료 (분석 도구 제외)
Phase 7: [⏸️] 1/3 완료 (목표 설정 기능 구현)
```

---

## 🔄 업데이트 로그

- 2025-01-13: 태스크 리스트 생성
- 2025-01-13: Phase 1-5 완료
- 2025-01-14: Phase 6 완료, Vercel 배포 성공
- 2025-01-14: 프로젝트 MVP 완료 🎉

---

## ✅ 완료 기준

각 Phase 완료 시:
1. 모든 서브 태스크 완료
2. 테스트 통과
3. 켈리님 컨펌 받기
4. 다음 Phase로 진행

---

## 📝 메모

- 데이터 정확성이 최우선
- 모바일 우선 디자인
- 빠른 로딩 속도 유지
- 직관적인 UX 제공